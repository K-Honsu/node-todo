<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          width: 100%;
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #dddddd;
        }

        .form-button {
            background-color: #3b82f6;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
        }

        .form-button:hover {
            background-color: #2563eb;
        }
    </style>
</head>
<body>
    <header>
        <%- include('./partials/header'); %>
    </header>
    <div style="padding:20px;margin-top:30px;height:1500px;">
        <h1>TODO'S</h1>
        <button class="form-button"><a href="/views/home">View pending Todo's</a></button>
        <table>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Status</th>
                <th>Date Created</th>
            </tr>
            <% if (tasks.length > 0) { %>
                  <% tasks.forEach(function(task) { %>
                    <% if (task.status === "completed") { %>
                    <tr>
                        <td><%= task.title %></td>
                        <td><%= task.description %></td>
                        <td><%= task.status %> &nbsp; &nbsp; <form action="/views/task/<%= task._id %>?_method=PUT" method="POST">
                            <input type="submit" name="" value="Change Status" id="" class="form-button">
                          </form>
                          </td>
                        <td><%= task.created_at %></td>
                    </tr>
                    <% } %>
                  <% }); %>
              <% } else { %>
                <h1>No completed todo yet.</h1>
              <% } %>
        </table>
        <div style="margin-top: 20px;">
            <button class="form-button"><a href="/views/task">Create New Todo</a></button>
        </div>
    </div>
</body>
</html>